# ç§»åŠ¨ç«¯åšå®¢é¡¹ç›® - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“± é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Vant çš„ç§»åŠ¨ç«¯ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œå®Œå…¨å¤ç”¨ PC ç«¯çš„åç«¯ API æ¥å£ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd /Users/dujie/go/src/github.com/ydcloud-dy/leaf-ui-phone
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æœåŠ¡å°†è¿è¡Œåœ¨ï¼šhttp://localhost:3001

### 3. ä½¿ç”¨æ‰‹æœºè®¿é—®

#### æ–¹æ³•ä¸€ï¼šåŒä¸€å±€åŸŸç½‘è®¿é—®
1. ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€å±€åŸŸç½‘
2. æŸ¥çœ‹ç”µè„‘çš„ IP åœ°å€ï¼ˆå¦‚ï¼š192.168.1.100ï¼‰
3. æ‰‹æœºæµè§ˆå™¨è®¿é—®ï¼šhttp://192.168.1.100:3001

#### æ–¹æ³•äºŒï¼šChrome DevTools æ¨¡æ‹Ÿ
1. æ‰“å¼€ Chrome æµè§ˆå™¨
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. ç‚¹å‡»è®¾å¤‡æ¨¡æ‹Ÿå›¾æ ‡ï¼ˆToggle device toolbarï¼‰
4. é€‰æ‹©ç§»åŠ¨è®¾å¤‡å‹å·ï¼ˆå¦‚ iPhone 12 Proï¼‰

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
leaf-ui-phone/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API æ¥å£ï¼ˆå¤ç”¨ PC ç«¯é€»è¾‘ï¼‰
â”‚   â”‚   â”œâ”€â”€ request.js    # Axios å°è£…
â”‚   â”‚   â”œâ”€â”€ article.js    # æ–‡ç« æ¥å£
â”‚   â”‚   â”œâ”€â”€ comment.js    # è¯„è®ºæ¥å£
â”‚   â”‚   â”œâ”€â”€ note.js       # ç¬”è®°æ¥å£
â”‚   â”‚   â”œâ”€â”€ tag.js        # æ ‡ç­¾æ¥å£
â”‚   â”‚   â””â”€â”€ user.js       # ç”¨æˆ·æ¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ArticleCard.vue  # æ–‡ç« å¡ç‰‡ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.vue         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Articles.vue     # æ–‡ç« åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ ArticleDetail.vue # æ–‡ç« è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ Notes.vue        # ç¬”è®°åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ Login.vue        # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Profile.vue      # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ Guestbook.vue    # ç•™è¨€æ¿
â”‚   â”‚   â””â”€â”€ About.vue        # å…³äºé¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ stores/           # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js           # å…¥å£æ–‡ä»¶
â”‚
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ index.html            # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.js        # Vite é…ç½®
â””â”€â”€ package.json          # é¡¹ç›®é…ç½®
```

## ğŸ¨ ä¸»è¦åŠŸèƒ½

### âœ… å·²å®ç°åŠŸèƒ½

1. **é¦–é¡µæ¨¡å—**
   - Banner å±•ç¤º
   - ç»Ÿè®¡æ•°æ®ï¼ˆæ–‡ç« æ•°ã€æµè§ˆé‡ç­‰ï¼‰
   - æœ€æ–°æ–‡ç« åˆ—è¡¨
   - åº•éƒ¨å¯¼èˆªæ 

2. **æ–‡ç« æ¨¡å—**
   - æ–‡ç« åˆ—è¡¨ï¼ˆæ”¯æŒä¸‹æ‹‰åˆ·æ–°ã€ä¸Šæ‹‰åŠ è½½ï¼‰
   - æ–‡ç« æœç´¢
   - æ–‡ç« æ’åºï¼ˆæœ€æ–°ã€æœ€çƒ­ã€æœ€å¤šç‚¹èµï¼‰
   - æ–‡ç« è¯¦æƒ…ï¼ˆMarkdown æ¸²æŸ“ã€ä»£ç é«˜äº®ï¼‰
   - ç‚¹èµ/æ”¶è—åŠŸèƒ½

3. **ç¬”è®°æ¨¡å—**
   - æŒ‰æ ‡ç­¾åˆ†ç±»æµè§ˆ
   - ä¾§è¾¹æ å¿«é€Ÿåˆ‡æ¢

4. **ç”¨æˆ·æ¨¡å—**
   - ç”¨æˆ·ç™»å½•/æ³¨å†Œ
   - ä¸ªäººä¸­å¿ƒ
   - é€€å‡ºç™»å½•

5. **ç•™è¨€æ¿**
   - å‘è¡¨ç•™è¨€
   - æŸ¥çœ‹ç•™è¨€åˆ—è¡¨

6. **å…³äºé¡µé¢**
   - åšä¸»ä¿¡æ¯å±•ç¤º
   - æŠ€æœ¯æ ˆå±•ç¤º
   - è”ç³»æ–¹å¼

## ğŸ”Œ API æ¥å£è¯´æ˜

æ‰€æœ‰ API æ¥å£ä¸ PC ç«¯å®Œå…¨ä¸€è‡´ï¼Œé€šè¿‡ Vite ä»£ç†è½¬å‘ï¼š

```javascript
// vite.config.js
proxy: {
  '/api': {
    target: 'http://localhost:8888',  // åç«¯æœåŠ¡åœ°å€
    changeOrigin: true,
    rewrite: (path) => path.replace(/^\/api/, '')
  }
}
```

### ä¸»è¦æ¥å£

- `GET /blog/articles` - è·å–æ–‡ç« åˆ—è¡¨
- `GET /blog/articles/:id` - è·å–æ–‡ç« è¯¦æƒ…
- `POST /blog/articles/:id/like` - ç‚¹èµæ–‡ç« 
- `GET /blog/chapters/:tag` - è·å–ç¬”è®°åˆ—è¡¨
- `GET /blog/comments` - è·å–è¯„è®ºåˆ—è¡¨
- `POST /blog/comments` - å‘è¡¨è¯„è®º
- `POST /blog/auth/login` - ç”¨æˆ·ç™»å½•

## ğŸ¯ ä¸ PC ç«¯çš„åŒºåˆ«

### UI æ¡†æ¶
- PC ç«¯ï¼šElement Plus
- ç§»åŠ¨ç«¯ï¼šVant

### å­—ä½“è®¾ç½®
- ç»Ÿä¸€ä½¿ç”¨åæ–‡é»‘ä½“ï¼š`"STHeiti", "Heiti SC", "Microsoft YaHei", "SimHei"`

### å¸ƒå±€é€‚é…
- é‡‡ç”¨ç§»åŠ¨ç«¯å‹å¥½çš„åº•éƒ¨å¯¼èˆªæ 
- ä½¿ç”¨ Vant çš„ç§»åŠ¨ç«¯ç»„ä»¶ï¼ˆä¸‹æ‹‰åˆ·æ–°ã€ä¸Šæ‹‰åŠ è½½ç­‰ï¼‰
- ä¼˜åŒ–è§¦æ‘¸äº¤äº’ä½“éªŒ

### ç«¯å£é…ç½®
- PC ç«¯ï¼š3000
- ç§»åŠ¨ç«¯ï¼š3001

## ğŸ› ï¸ å¼€å‘å»ºè®®

### è°ƒè¯•æŠ€å·§

1. **ä½¿ç”¨ Chrome DevTools**
   ```
   F12 â†’ Toggle device toolbar â†’ é€‰æ‹©è®¾å¤‡
   ```

2. **æŸ¥çœ‹ç½‘ç»œè¯·æ±‚**
   ```
   Network æ ‡ç­¾ â†’ æŸ¥çœ‹ API è¯·æ±‚å’Œå“åº”
   ```

3. **ç§»åŠ¨ç«¯çœŸæœºè°ƒè¯•**
   - iOSï¼šSafari â†’ å¼€å‘ â†’ è®¾å¤‡å
   - Androidï¼šChrome â†’ chrome://inspect

### å¸¸è§é—®é¢˜

**Q: æ— æ³•è¿æ¥åç«¯ APIï¼Ÿ**
A: ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œåœ¨ `localhost:8888`ï¼Œæ£€æŸ¥ `vite.config.js` ä¸­çš„ä»£ç†é…ç½®ã€‚

**Q: æ ·å¼æ˜¾ç¤ºå¼‚å¸¸ï¼Ÿ**
A: æ£€æŸ¥æ˜¯å¦æ­£ç¡®å¼•å…¥äº† Vant çš„ CSSï¼š`import 'vant/lib/index.css'`

**Q: å›¾ç‰‡æ— æ³•æ˜¾ç¤ºï¼Ÿ**
A: ç¡®ä¿å›¾ç‰‡æ–‡ä»¶åœ¨ `public/img/` ç›®å½•ä¸‹ã€‚

## ğŸ“ å¼€å‘è§„èŒƒ

1. **ç»„ä»¶å‘½å**ï¼šä½¿ç”¨ PascalCaseï¼ˆå¦‚ï¼šArticleCard.vueï¼‰
2. **API æ–‡ä»¶**ï¼šæŒ‰æ¨¡å—åˆ†ç±»ï¼ˆarticle.js, user.js ç­‰ï¼‰
3. **ä»£ç é£æ ¼**ï¼šä½¿ç”¨ Composition API + `<script setup>`
4. **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ Pinia ç®¡ç†å…¨å±€çŠ¶æ€

## ğŸš¢ éƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

### Nginx é…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name m.yourdomain.com;

    root /path/to/leaf-ui-phone/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:8888;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸ“„ è®¸å¯è¯

MIT

---

**å¼€å‘è€…**: æœæ°
**æœ€åæ›´æ–°**: 2024-12-11
